<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<title>Industrial Machine Connectivity on the AWS Cloud</title>
<style>

/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#34478c;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{
  border-bottom:1px solid #e7e7e9;
  padding-bottom:.5em;
  width: 230px;
}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{
  font-family: "Work Sans", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  text-decoration:none;
  color:#ccc;
  display: block;
  font-size:1rem;
  line-height: 2rem;
}
#toc a:hover{color:#e6e6e6}
#toc a:active{
  text-decoration:none;
  color:#777;
}
#toctitle{
  padding-top:0;
  overflow:hidden;
  background:#283e5b;
  /* border-bottom: 4px solid #435c7c; */
  width:320px;
  height:154px;
  top:0;
  left:0;
  color: #283e5b;
}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#1c222a;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;/*! padding:1.25em 1em; */height:100%;overflow:auto;padding-right: 0px;}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{
  font-size:1.375em;
  background-repeat: no-repeat;
  background-size: 160.8px 136.483px;
  background-position: center;
  }
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:#1c222a;padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44;/*! background: #e6e6e6; */}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";color: rgb(3, 87, 21);}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

/* -------------------------   QS CSS entries ---------------------------- */
@font-face {
  font-family: 'Amazon Ember Light';
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_lt-019e0ec3f9b521056e66e31fdcbc8323e5cd1938._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_lt-bc9ed0fce860a46f3cb061034280c23400e6e8b6._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-weight: 700;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-style : italic;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-96be47a559388a2b219577124589435c09a361fe._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-b561f11b5c8be92ac17f6b713dd9d4b6e2f00c8d._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-96be47a559388a2b219577124589435c09a361fe._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-b561f11b5c8be92ac17f6b713dd9d4b6e2f00c8d._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rg-fd81bacb6a659a8c8c95828226b74594ab985060._V299195749_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rg-0acf3bc8b64d470d8888d84741a19533394654c6._V299195749_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-weight: 700;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-style : italic;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rgit-af980fe9c64fc17ece72cba4e3e7fdf54babeea6._V299195748_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rgit-4fae4842b3446774d86579b9b024858a848644e8._V299195748_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium'),
    url('https://m.media-amazon.com/images/G/01/amazonservices/fonts/amazonember_md_base-webfont._V525237381_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/amazonservices/fonts/amazonember_md_base-webfont._V525237386_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-weight: 700;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-style : italic;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-Italic'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_mdit-webfont._V522331917_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_mdit-webfont._V522331917_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy'),
    url('https://m.media-amazon.com/images/G/01/acs/fonts/amazonember_he-webfont._V278446113_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/acs/fonts/amazonember_he-webfont._V278446115_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-weight: 700;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-style : italic;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_heit-webfont._V522331917_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_heit-webfont._V522331917_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thin-webfont._V282715032_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thin-webfont._V282715033_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-weight: 700;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-style : italic;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-Italic'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thinit-webfont._V282715033_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thinit-webfont._V282715032_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}


.tip {
  border-top: 30px solid rgba(92, 184, 92, 0.8);
  background: #E6F9E6;
}

.note {
  border-top: 30px solid #6AB0DE;
  background: #E7F2FA;
}

.warning {
  border-top: 30px solid #F0B37E;
  background: #FFF2DB;
}

.caution {
  border-top: 30px solid rgba(217, 83, 79, 0.8);
  background: #FAE2E2;
}

.important {
  border-top: 30px solid rgba(217, 83, 79, 0.8);
  background: #FAE2E2;
}

#content {
  max-width: 100rem;
  padding-left: 5rem;
  padding-right: 5rem;
}

body {
  font-family: "Amazon Ember Regular", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
}

/* added */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin        : 0.85rem 0 1.7rem 0;
  text-rendering: optimizeLegibility;
  color: #ec7211;
}

p {
  margin: 1rem 0;
}

/* QS Table of Contents */

#toc {
  overflow-x: hidden !important;
}

#toc>ul li {
  padding    : 0.3rem 0.6rem;
  margin-top : 0;
  line-height: 1;
}

#toc>ul li a {
  line-height: 1.6;
}

#toc a {
  /* TOC details */
  font-family  : "Amazon Ember Light", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  margin-left  : -1rem;
  margin-right : -1rem;
  padding-left : 1rem;
  padding-right: 1rem;
  background   : transparent;
  box-sizing   : border-box;
  cursor       : pointer;
  font-weight  : 300 !important;
}

/* image layout */
#toc.toc2 #toctitle {
  background-image: url("images/AWS-Logo.svg");
  background-repeat: no-repeat;
  background-size: 50%;
  background-position: center;
  width: auto;
  height: 15%;
}

/* Left Navbar size */
#toc.toc2 {
  width: 17%;
  min-width: 15em;
}

/* auto width for main page */
body.toc2 {
  padding-left: 22%;
  padding-right: 2%;
}

/* hide left nav bar if page size is smaller than 767px */
@media screen and (max-width: 767px) {
  #toc {
      display: none !important;
  }
  body.toc2 {
    padding-left: 1%;
    padding-right: 1%;
    position: relative;
  }

  #content {
    padding-left: 2%;
    padding-right: 2%;
  }
}

/* QS Tables */

table.tableblock .title,
.imageblock .title {
  font-family  : "Amazon Ember Light", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  font-size: 1.1rem;
  color: #34478c;
}
table p {
  margin: 0rem;
}

/* Add border around hyperlink images */
a img {
    border: 1px solid #A4A4A4;
}

.preview_mode {
	border-color:#e0e0dc;
	-webkit-box-shadow:0 1px 4px #e0e0dc;
	box-shadow:0 1px 4px #e0e0dc;
  background:#ffffb3;
  padding-bottom: 2rem;
}
.preview_mode .tableblock {
  background:#ffffb3;
}

.footer-text{color:rgba(255,255,255,.8);line-height:1.44;background:#1c222a;padding:1.25em;max-width:100%;margin-bottom:unset}
p.footer-text a{color:#d7d8d8}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_industrial_machine_connectivity_on_aws">Industrial Machine Connectivity on AWS</a></li>
<li><a href="#_aws_costs">AWS costs</a></li>
<li><a href="#_software_licenses">Software licenses</a></li>
<li><a href="#_architecture">Architecture</a>
<ul class="sectlevel2">
<li><a href="#_virtual_deployment">Virtual deployment</a></li>
<li><a href="#_physical_deployment">Physical deployment</a></li>
<li><a href="#_asset_modeling">Asset Modeling</a></li>
<li><a href="#_the_asset_model_converter">The Asset Model Converter</a></li>
<li><a href="#_element_unify">Element Unify</a></li>
</ul>
</li>
<li><a href="#_planning_the_deployment">Planning the deployment</a>
<ul class="sectlevel2">
<li><a href="#_specialized_knowledge">Specialized knowledge</a></li>
<li><a href="#_aws_account">AWS account</a></li>
<li><a href="#_technical_requirements">Technical requirements</a></li>
</ul>
</li>
<li><a href="#_prepare_to_deploy">Prepare to deploy</a>
<ul class="sectlevel2">
<li><a href="#_review_the_deployment_modes">Review the deployment modes</a></li>
<li><a href="#_review_edge_devices_physical_deployments_only">Review edge devices (physical deployments only)</a></li>
<li><a href="#_review_the_dataflow_options">Review the dataflow options</a></li>
<li><a href="#_review_the_amc_drivers">Review the AMC drivers</a></li>
<li><a href="#_enable_aws_sso">Enable AWS SSO</a></li>
<li><a href="#_set_up_quicksight">Set up QuickSight</a></li>
<li><a href="#_create_an_ec2_ssh_key_pair">Create an EC2 SSH key pair</a></li>
<li><a href="#_create_an_aws_iot_sitewise_service_linked_role">Create an AWS IoT SiteWise service-linked role</a></li>
<li><a href="#_connect_to_the_edge_hardware_physical_deployments_only">Connect to the edge hardware (physical deployments only)</a></li>
</ul>
</li>
<li><a href="#_deployment_steps">Deployment steps</a>
<ul class="sectlevel2">
<li><a href="#_sign_in_to_your_aws_account">Sign in to your AWS account</a></li>
<li><a href="#_launch_the_quick_start">Launch the Quick Start</a></li>
</ul>
</li>
<li><a href="#_post_deployment_steps">Post-deployment steps</a>
<ul class="sectlevel2">
<li><a href="#_clean_up_the_aws_cloudformation_stack_deployment">Clean up the AWS CloudFormation stack deployment</a></li>
<li><a href="#_additional_resources">Additional resources</a></li>
</ul>
</li>
<li><a href="#_faq">FAQ</a></li>
<li><a href="#_troubleshooting">Troubleshooting</a></li>
<li><a href="#_parameter_reference">Parameter reference</a>
<ul class="sectlevel2">
<li><a href="#_parameters_for_deploying_into_an_existing_vpc">Parameters for deploying into an existing VPC</a></li>
<li><a href="#_parameters_for_deploying_into_a_new_vpc">Parameters for deploying into a new VPC</a></li>
</ul>
</li>
<li><a href="#_send_us_feedback">Send us feedback</a></li>
<li><a href="#_quick_start_reference_deployments">Quick Start reference deployments</a></li>
<li><a href="#_github_repository">GitHub repository</a></li>
<li><a href="#_notices">Notices</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<h2 id="_industrial_machine_connectivity_on_the_aws_cloud" class="discrete text-center">Industrial Machine Connectivity on the AWS Cloud</h2>
<h2 id="_quick_start_reference_deployment" class="discrete text-left text-center">Quick Start Reference Deployment</h2>
<div class="imageblock text-center">
<div class="content">
<img src="https://aws-quickstart.s3.amazonaws.com/quickstart-aws-industrial-machine-connectivity/docs/boilerplate/.images/aws-quickstart-graphic.png" alt="QS" width="80" height="80">
</div>
</div>
<div class="paragraph text-center">
<p><strong>February 2021</strong><br>
<em>Thomas Cummins and Krishna Doddapaneni, AWS IoT Partner team</em><br>
<em>Shivansh Singh, AWS Integration &amp; Automation team</em></p>
</div>
<div class="admonitionblock tip text-left">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Visit our <a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity" target="_blank" rel="noopener">GitHub repository</a> for source files and to post feedback,
report bugs, or submit feature ideas for this Quick Start.
</td>
</tr>
</table>
</div>
<div class="paragraph text-left">
<p>This Quick Start was created by Amazon Web Services (AWS). <a href="http://aws.amazon.com/quickstart/" target="_blank" rel="noopener">Quick Starts</a> are automated reference deployments that use AWS CloudFormation templates to deploy key technologies on AWS, following AWS best practices.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide provides instructions for deploying the Industrial Machine Connectivity (IMC) Quick Start reference architecture on the AWS Cloud. It also includes an option to deploy Element Unify to increase data modeling and metadata integration capabilities.</p>
</div>
<div class="paragraph">
<p>The Quick Start helps you bring data from your Industrial Internet of Things (IIoT) assets to the AWS Cloud in a structured way. It&#8217;s for developers and AWS Partners, regional and global systems integrators, independent software vendors, and original equipment manufacturers who want to generate immediate business value from an IIoT architecture.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_industrial_machine_connectivity_on_aws">Industrial Machine Connectivity on AWS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The primary objective of the IMC Quick Start is to help AWS Partners deliver a proof of concept that addresses a use case of high value to the customer. For example, the customer might want to start by visualizing near-real-time operational metrics and analyzing root causes when a line goes down. After a successful proof of concept, the partner and customer may work together to build out the production architecture to address other critical use cases.</p>
</div>
<div class="paragraph">
<p>The IMC architecture includes AWS managed IoT edge services and AWS-qualified edge hardware. You can use a range of programmable logic controllers (PLCs). And you can publish data over various protocols: HTTPS, MQTT (Message Queuing Telemetry Transport), and OPC Unified Architecture (UA). With this Quick Start, you can automate production rollout of a connected-factory architecture across multiple sites. You can organize, store, and manage your IIoT data in various ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create or transfer virtual assets.</p>
</li>
<li>
<p>Create or transfer asset hierarchies.</p>
</li>
<li>
<p>Create a time-series hot-data store.</p>
</li>
<li>
<p>Transfer data from a historian or a SCADA (supervisory control and data acquisition) system.</p>
</li>
<li>
<p>Archive cold data in Amazon Simple Storage Service (Amazon S3).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you launch the IMC Quick Start, an AWS CloudFormation template automates the deployment of resources into your AWS account. You deploy this Quick Start in either virtual mode (for evaluation and training) or physical mode (for customer deployments). The mode you choose depends on whether your edge hardware is virtual or physical. The architecture for virtual edge hardware includes an Amazon Elastic Compute Cloud (Amazon EC2) instance. The architecture for physical edge hardware includes an industrial PC on the customer&#8217;s premises. The mode determines the way you configure connectivity and security. All other cloud-based resources are largely the same for virtual and physical deployments.</p>
</div>
<div id="IMC-QS-overview" class="imageblock">
<div class="content">
<img src="images/imc_qs_overview.png" alt="IMC Quick Start conceptual diagram" width="85%">
</div>
<div class="title">Figure 1. IMC Quick Start conceptual diagram</div>
</div>
<div class="paragraph">
<p><a href="#IMC-QS-overview">Figure 1</a> shows a high-level view of a physical deployment. The dotted orange box outlines the IMC Quick Start&#8217;s main components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the factory:</p>
<div class="ulist">
<ul>
<li>
<p>AWS IoT Greengrass runs on an industrial PC (an AWS-qualified edge-gateway device). AWS IoT Greengrass ingests data from a partner edge application, such as Inductive Automation&#8217;s <a href="https://inductiveautomation.com/ignition/" target="_blank" rel="noopener">Ignition</a> or PTC&#8217;s <a href="https://www.kepware.com/en-us/products/kepserverex/" target="_blank" rel="noopener">KEPServerEX</a>.</p>
</li>
<li>
<p>The partner edge application translates the data from the customer assets—including PLCs, equipment, and data stores (SCADA or historian)—into industrial protocols.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the AWS Cloud:</p>
<div class="ulist">
<ul>
<li>
<p>AWS IoT SiteWise stores the metadata for the asset-model hierarchy of the industrial assets on the factory floor. It also contains a managed database for the time-series data generated by these assets.</p>
<div class="ulist">
<ul>
<li>
<p>After the hierarchy is defined in AWS IoT SiteWise, the partner edge application continuously ingests the asset data and transmits it to the AWS Cloud through a SiteWise connector within AWS IoT Greengrass.</p>
</li>
<li>
<p>AWS IoT SiteWise serves as the hot-storage tier for both time-series data and metadata. All this data, including the metadata, is accessible to applications that can generate business value from it.</p>
</li>
<li>
<p>The AWS IoT SiteWise Monitor feature enables you to build dashboards to visualize near-real-time time-series data stored in AWS IoT SiteWise’s time-series database.</p>
</li>
</ul>
</div>
</li>
<li>
<p>AWS IoT Core receives and routes MQTT messages either directly from the partner edge application or from the AWS IoT Greengrass core.</p>
</li>
<li>
<p>Amazon S3 can serve as a cold-storage tier for data.</p>
</li>
<li>
<p>Amazon QuickSight lets you build custom business-intelligence dashboards and visualizations for data stored in the S3 bucket.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aws_costs">AWS costs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You are responsible for the cost of the AWS services and any third-party licenses used while running this Quick Start. There is no additional cost for
using the Quick Start.</p>
</div>
<div class="paragraph">
<p>The AWS CloudFormation templates for Quick Starts include
configuration parameters that you can customize. Some of the settings,
such as the instance type, affect the cost of deployment. For cost estimates,
see the pricing pages for each AWS service you use. Prices are subject to change.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
After you deploy the Quick Start, create <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-gettingstarted-turnonreports.html" target="_blank" rel="noopener">AWS Cost and Usage Reports</a> to deliver billing metrics to an Amazon Simple Storage Service (Amazon S3) bucket in your account. These reports provide cost estimates based on usage throughout each month and aggregate the data at the end of the month. For more information, see <a href="https://docs.aws.amazon.com/cur/latest/userguide/what-is-cur.html" target="_blank" rel="noopener">What are AWS Cost and Usage Reports?</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_software_licenses">Software licenses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All AWS service resources consumed during the launch of the Quick Start incur AWS service usage costs. If choosing to deploy Element Unify, a license is required. For AWS Partners or customers who do not have a license to use Element Unify, a free trial is provided through the <a href="https://aws.amazon.com/marketplace/pp/Element-Element-Unify-Software/B08VZY2ZJB">AWS marketplace</a>.</p>
</div>
<div class="paragraph">
<p>Some configurations of the IMC Quick Start involve the use of a partner edge application. You are responsible for obtaining a license directly from the software vendor. Applications that integrate with the IMC Quick Start are available from the following vendors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inductive Automation, vendor for Ignition.</p>
</li>
<li>
<p>Cirrus Link, vendor for the MQTT transmission module for the Ignition software stack.</p>
</li>
<li>
<p>PTC, vendor for KEPServerEX.</p>
</li>
<li>
<p>Element Analytics, Inc., vendor for Element Unify</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture">Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_virtual_deployment">Virtual deployment</h3>
<div class="paragraph">
<p>When you deploy this Quick Start in virtual mode, you build the following Industrial Machine Connectivity environment in the AWS Cloud. Elements of the Quick Start are outlined in the dotted orange box.</p>
</div>
<div id="architecture-virtual" class="imageblock">
<div class="content">
<img src="images/IMCQuickStartArchitecture-Virtual.png" alt="Virtual architecture">
</div>
<div class="title">Figure 2. Architecture of the IMC Quick Start—virtual deployment</div>
</div>
<div class="paragraph">
<p>As shown in <a href="#architecture-virtual">Figure 2</a>, the virtual deployment of the IMC Quick Start sets up the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>A virtual private cloud (VPC).</strong> The VPC is configured with a public subnet within a single Availability Zone. The IMC Quick Start can be launched in the default VPC of your existing AWS infrastructure, or it can generate a new VPC.*</p>
</li>
<li>
<p>In the subnet:</p>
<div class="ulist">
<ul>
<li>
<p><strong>EC2 instance 1.</strong> This instance is for the partner edge application.</p>
</li>
<li>
<p><strong>EC2 instance 2.</strong> This instance is for the AWS IoT Greengrass core.* It simulates the edge-gateway device (industrial PC) that would run on the customer’s premises. When you launch the Quick Start, you configure this Greengrass group for the dataflow option that suits your use case. Dataflow options are the data-ingestion paths available with this architecture. These are the three dataflow options:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Dataflow option 1.</strong> This path sends data from the partner edge application&#8217;s OPC UA server to AWS IoT SiteWise. Data flows through the AWS IoT SiteWise connector running in an AWS IoT Greengrass core.</p>
</li>
<li>
<p><strong>Dataflow option 2a.</strong> This path sends data from the partner edge application—for example, Ignition with the Cirrus Link MQTT transmission module—directly to AWS IoT Core.</p>
</li>
<li>
<p><strong>Dataflow option 2b.</strong> This path sends data from the partner edge application to the AWS IoT Greengrass core. There, customer-defined AWS Lambda functions can process or filter the data as well as use it for local machine learning (ML) model inference: Greengrass integration with Amazon SageMaker. (While you can use Amazon Athena to create datasets, Athena resources are not created automatically; you would provision them after launching the Quick Start.) Alternatively, the data may be consumed by a containerized Docker application (not shown). Raw and processed data can then be transmitted to the AWS Cloud through a number of paths, including AWS IoT Core, Amazon Kinesis Data Streams, or AWS IoT Analytics. These edge-processing capabilities are not part of the IMC Quick Start, so they aren&#8217;t shown in the dotted orange box. You can extend the IMC architecture and add whichever components apply for your use case.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Asset Model Converter.</strong> The AMC is a serverless, module-based framework that uses Amazon S3, Amazon DynamoDB, and Lambda to map the partner edge application&#8217;s asset-modeling conventions onto AWS IoT SiteWise. When you launch the Quick Start, the AMC automatically converts data from the partner edge application&#8217;s asset-hierarchy definition object (a JSON file with definitions for factory, lines, machines, and tags) into AWS IoT SiteWise models and assets. For details, see <a href="#amc-architecture">Figure 6</a>.</p>
</li>
<li>
<p><strong>AWS IoT SiteWise.</strong> With this managed service, you can collect, model, analyze, and visualize data from industrial equipment at scale. The service, which maintains the asset hierarchy&#8217;s metadata, contains a managed database for all the time-series data generated by the customer assets. It includes a SaaS dashboard-building feature called AWS IoT SiteWise Monitor. You use SiteWise Monitor to build custom dashboards, or portals, to view and share near-real-time data from your connected devices and equipment.</p>
</li>
<li>
<p><strong>AWS IoT Core.</strong> This service receives and routes MQTT messages either directly from the partner edge application or from the AWS IoT Greengrass core.</p>
</li>
<li>
<p><strong>Amazon Kinesis Data Firehose.</strong> This service routes data messages from AWS IoT Core to an Amazon S3 bucket.</p>
</li>
<li>
<p><strong>Amazon S3.</strong> The S3 bucket can serve as a cold-storage tier for data.</p>
</li>
<li>
<p><strong>Amazon QuickSight.</strong> You use this service to build custom business-intelligence dashboards and visualizations for data stored in the S3 bucket.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you deploy this Quick Start with Element Unify in virtual mode, you build the following Industrial Machine Connectivity environment in the AWS Cloud. Components of the Quick Start with Element Unify are outlined in the dotted orange box.</p>
</div>
<div id="architecture-element-virtual" class="imageblock">
<div class="content">
<img src="images/IMCQuickStartArchitecture-ElementUnify-Virtual.png" alt="Virtual Element Unify architecture">
</div>
<div class="title">Figure 3. Architecture of the IMC Quick Start with Element Unify-virtualdeployment</div>
</div>
<div class="paragraph">
<p>In addition to what is shown in <a href="#architecture-virtual">Figure 2</a>, as shown in <a href="#architecture-element-virtual">Figure 3</a>, the virtual deployment of the IMC Quick Start with Element Unify sets up the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The data orchestration between Element Unify and AWS IoT SiteWise utilizes a serverless, module-based, framework that includes Amazon S3, AWS Lambda, and AWSSecrets Manager to automate the import of the partner edge application&#8217;s metadata structure onto Element Unify prior to deployment to AWS IoT SiteWise. Metadata is converted from the partner edge application&#8217;s asset-hierarchy definition object (a JSON file with definitions for factory, lines, machines, and tags) as datasets and asset templates in Element Unify. An AWS Partner or customer can then utilize Element Unify to manage the data model or integrate contextualization with metadata from IT/OT systems before creating AWS IoT SiteWise models and assets. For details, see <a href="#element-unify-architecture">Figure 8</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">* The template that deploys the Quick Start into an existing VPC skips the components marked by asterisks and prompts you for your existing VPC configuration.</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_physical_deployment">Physical deployment</h3>
<div class="paragraph">
<p>When you deploy this Quick Start in physical mode (on the customer&#8217;s premises, such as in a factory), you build an environment like the one shown in <a href="#architecture-physical">Figure 4</a>. Elements of the Quick Start are outlined in the dotted orange box.</p>
</div>
<div id="architecture-physical" class="imageblock">
<div class="content">
<img src="images/IMCQuickStartArchitecture-Physical.png" alt="Physical architecture">
</div>
<div class="title">Figure 4. Architecture of the IMC Quick Start—physical deployment</div>
</div>
<div class="paragraph">
<p>Unlike the virtual deployment (<a href="#architecture-virtual">Figure 2</a>), the physical deployment (<a href="#architecture-physical">Figure 4</a>) has the AWS IoT Greengrass core running on an industrial PC on the customer&#8217;s premises. The physical deployment uses the same resources as the virtual deployment with the following differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In physical deployments, no EC2 instances are launched in a VPC. Instead, AWS IoT Greengrass core runs directly onto an industrial PC. IoT Greengrass core is installed by a bootstrap installation script that is created during the IMC Quick Start&#8217;s CloudFormation stack launch.</p>
</li>
<li>
<p>In physical deployments, the partner edge application communicates with customer assets—PLCs, equipment, data stores, and other IoT devices—running in the factory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you deploy this Quick Start with Element Unify in physical mode (on the customer&#8217;s premises, such as in a factory), you build an environment like the one shown in <a href="#architecture-element-physical">Figure 5</a>. Elements of the Quick Start are outlined in the dotted orange box.</p>
</div>
<div id="architecture-element-physical" class="imageblock">
<div class="content">
<img src="images/IMCQuickStartArchitecture-ElementUnify-Physical.png" alt="Physical Element Unify architecture">
</div>
<div class="title">Figure 5. Architecture of the IMC Quick Start with Element Unify—physical deployment</div>
</div>
</div>
<div class="sect2">
<h3 id="_asset_modeling">Asset Modeling</h3>
<div class="paragraph">
<p>When you depoy the IMC Quick Start, you choose an application for data modeling. This parameter determines which data modeling and deployment application to use for the IMC Quick Start to build, deploy, and manage AWS IoT SiteWise. For the AWS CloudFormation stack <code>Asset Modeling configuration</code> parameter, you can choose any of the two applications: Asset Model Converter or Element Unify.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_asset_model_converter">The Asset Model Converter</h3>
<div class="paragraph">
<p>For both virtual and physical architectures, at the heart of the IMC Quick Start is the Asset Model Converter (AMC), detailed in <a href="#amc-architecture">Figure 6</a>. The AMC is a serverless, module-based framework. It automatically converts definitions of a customer&#8217;s asset hierarchy (factory, lines, machines, and tags) from the partner edge application to equivalent definitions in AWS IoT SiteWise models and assets.</p>
</div>
<div id="amc-architecture" class="imageblock">
<div class="content">
<a class="image" href="images/AMCArchitecture.png"><img src="images/AMCArchitecture.png" alt="AMC architecture"></a>
</div>
<div class="title">Figure 6. AMC architecture diagram</div>
</div>
<div class="paragraph">
<p>The AMC architecture, shown in <a href="#amc-architecture">Figure 6</a>, has a serverless sequence flow. The AMC ingests asset-hierarchy-definition files or messages generated by the partner edge application and converts them into a schema compatible with AWS IoT SiteWise. It then automatically provisions a matching asset hierarchy (factory, lines, machines, and tags) in AWS IoT SiteWise. With this automatic mapping, application builders have immediate access to the customer&#8217;s asset hierarchy within a managed service (AWS IoT SiteWise) in the AWS Cloud. These application builders may be the customer&#8217;s own developers, regional or global systems integrators, or an AWS ProServe team.</p>
</div>
</div>
<div class="sect2">
<h3 id="_element_unify">Element Unify</h3>
<div class="paragraph">
<p>Element Unify is a data management platform to integrate, contextualize, and govern industrial IT/OT data, and standardize the data into analyics-ready data sources and asset models. Element Unify allows industrial, SI, and GSI teams to work collaboratively to build rich data context at scale with no-code, supporting single site and multiple site deployments. Element Unify automates the deployment and updates of the data model directly to AWS IoT SiteWise.</p>
</div>
<div class="paragraph">
<p>Element Unify provides a single federated, contextualized source of data from which users can establish their own single version of the truth, all with a powerful governance engine ensuring data integrity across the enterprise.</p>
</div>
<div class="paragraph">
<p>By aligning and scaling critial IT/OT data, as depicted in <a href="#element-unify-itot-together">Figure 7</a>, the value of data is unlocked, enabling the delivery of high impact, enterprise-wide analytics that improve core business performance outcomes like asset flexibility, security, reliability, safety, and cost.</p>
</div>
<div id="element-unify-itot-together" class="imageblock">
<div class="content">
<a class="image" href="images/ElementUnifyBringingITOTTogether.png"><img src="images/ElementUnifyBringingITOTTogether.png" alt="Element Unify bring together IT/OT data for AWS"></a>
</div>
<div class="title">Figure 7. Element Unify bring together IT/OT data for AWS</div>
</div>
<div class="paragraph">
<p>The deployment of Element Unify in the Quick Start is detailed in <a href="#element-unify-architecture">Figure 8</a>. The architecture is based on a serverless, module-based framework. It automatically converts data from the partner edge application’s asset-hierarchy (factory, lines, machines, and tags) to equivalent definitions in Element Unify and AWS IoT SiteWise.</p>
</div>
<div id="element-unify-architecture" class="imageblock">
<div class="content">
<a class="image" href="images/ElementUnifyArchitecture.png"><img src="images/ElementUnifyArchitecture.png" alt="Element Unify architecture"></a>
</div>
<div class="title">Figure 8. Element Unify architecture diagram</div>
</div>
<div class="paragraph">
<p>The architecture, shown in <a href="#element-unify-architecture">Figure 8</a>, has a serverless sequence flow. A source connector ingests the asset-hierarchy definition or tag definition files generated by the partner edge application and converts it into a schema compatible with Element Unify. An AWS Partner or customer can then use Element Unify to manage industral data models and assets for either single site or multiple site deployments at scale. Element Unify contextualizes metadata from edge sources, maps them to complex asset templates and asset hierarchies. An AWS Lambda automatically provisions a matching asset hierarchy (factory, lines, machines, and tags) to AWS IoT SiteWise. This Lambda runs hourly, continuously monitoring both Element Unify and AWS IoT SiteWise to synchronize the underlying data model and maintain an evergreen state.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_planning_the_deployment">Planning the deployment</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_specialized_knowledge">Specialized knowledge</h3>
<div class="paragraph">
<p>This deployment requires a moderate level of familiarity with
AWS services. If you’re new to AWS, see <a href="https://aws.amazon.com/getting-started/" target="_blank" rel="noopener">Getting Started Resource Center</a>
and <a href="https://aws.amazon.com/training/" target="_blank" rel="noopener">AWS Training and Certification</a>. These sites provide materials for learning how to design,
deploy, and operate your infrastructure and applications on the AWS Cloud.</p>
</div>
<div class="paragraph">
<p>This Quick Start also assumes familiarity with AWS IoT Core, AWS IoT SiteWise, AWS IoT Greengrass, the partner edge application to be used, such as Inductive Automation&#8217;s Ignition and PTC&#8217;s KEPServerEX, and Element Unify.</p>
</div>
</div>
<div class="sect2">
<h3 id="_aws_account">AWS account</h3>
<div class="paragraph">
<p>If you don’t already have an AWS account, create one at <a href="https://aws.amazon.com/" target="_blank" rel="noopener">https://aws.amazon.com</a> by following the on-screen instructions. Part of the sign-up process involves receiving a phone call and entering a PIN using the phone keypad.</p>
</div>
<div class="paragraph">
<p>Your AWS account is automatically signed up for all AWS services. You are charged only for the services you use.</p>
</div>
</div>
<div class="sect2">
<h3 id="_technical_requirements">Technical requirements</h3>
<div class="paragraph">
<p>Before you launch the Quick Start, review the following information and ensure that your account is properly configured. Otherwise, deployment might fail.</p>
</div>
<div class="sect3">
<h4 id="_resource_quotas">Resource quotas</h4>
<div class="paragraph">
<p>If necessary, request <a href="https://console.aws.amazon.com/servicequotas/home?region=us-east-2#!/" target="_blank" rel="noopener">service quota increases</a> for the following resources. You might need to request increases if your existing deployment currently uses these resources and if this Quick Start deployment could result in exceeding the default quotas. The <a href="https://console.aws.amazon.com/servicequotas/home?region=us-east-2#!/" target="_blank" rel="noopener">Service Quotas console</a> displays your usage and quotas for some aspects of some services. For more information, see <a href="https://docs.aws.amazon.com/servicequotas/latest/userguide/intro.html" target="_blank" rel="noopener">What is Service Quotas?</a> and <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html" target="_blank" rel="noopener">AWS service quotas</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">This deployment uses</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS Identity and Access Management (IAM) roles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DynamoDB tables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lambda functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS IoT topic rules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kinesis Data Firehose streams</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 buckets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EC2 instances</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secrets Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_supported_regions">Supported Regions</h4>
<div class="paragraph">
<p>This Quick Start supports the following Regions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>us-east-1, US East (N. Virginia)</p>
</li>
<li>
<p>us-west-2, US West (Oregon)</p>
</li>
<li>
<p>eu-west-1, Europe (Ireland)</p>
</li>
<li>
<p>eu-central-1, Europe (Frankfurt)</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Certain Regions are available on an opt-in basis. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande-manage.html" target="_blank" rel="noopener">Managing AWS Regions</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_ec2_key_pairs">EC2 key pairs</h4>
<div class="paragraph">
<p>Make sure that at least one <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank" rel="noopener">Amazon EC2 key pair</a> exists in your AWS account in the Region where you plan to deploy the Quick Start. Make note of the key pair name. You need it during deployment. To create a key pair, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank" rel="noopener">Amazon EC2 key pairs and Linux instances</a>.</p>
</div>
<div class="paragraph">
<p>For testing or proof-of-concept purposes, we recommend creating a new key pair instead of using one that’s already being used by a production instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_iam_permissions">IAM permissions</h4>
<div class="paragraph">
<p>Before launching the Quick Start, you must sign in to the AWS Management Console with IAM permissions for the resources that the templates deploy. The <em>AdministratorAccess</em> managed policy within IAM provides sufficient permissions, although your organization may choose to use a custom policy with more restrictions. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html" target="_blank" rel="noopener">AWS managed policies for job functions</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prepare_to_deploy">Prepare to deploy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you deploy the IMC Quick Start, read the following sections so that you understand the choices that you need to make during deployment: deployment modes, dataflow options, and AMC drivers. Also follow all applicable instructions: enable AWS Single Sign-On (AWS SSO), set up QuickSight, create an EC2 SSH key pair, etc.</p>
</div>
<div class="sect2">
<h3 id="_review_the_deployment_modes">Review the deployment modes</h3>
<div class="paragraph">
<p>When you deploy the IMC Quick Start, you choose between virtual and physical deployment modes.</p>
</div>
<div class="sect3">
<h4 id="_virtual_deployment_2">Virtual deployment</h4>
<div class="paragraph">
<p>Virtual deployment is intended for demonstration, training, and evaluation of the IMC Quick Start&#8217;s capabilities. You launch EC2 instances to simulate edge gateway hardware. In all other respects, the virtual architecture mirrors that of the physical deployment. Virtual mode relies on simulated tag values generated by the partner edge application. No physical PLCs or sensors are connected.</p>
</div>
</div>
<div class="sect3">
<h4 id="_physical_deployment_2">Physical deployment</h4>
<div class="paragraph">
<p>With physical deployment, you deploy software (AWS IoT Greengrass and a partner edge application) on an industrial PC that&#8217;s ready to connect to physical devices (such as PLCs or historians or SCADA systems) on the customer&#8217;s factory floor. The physical deployment has two types: greenfield and brownfield.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Greenfield.</strong> In a greenfield physical deployment, you build from scratch for a new environment. AWS IoT Greengrass and the partner edge application run on a single edge-gateway device (an industrial PC) with Ignition installed alongside AWS IoT Greengrass on the same PC, as shown in <a href="#architecture-physical">Figure 4</a> and <a href="#architecture-element-physical">Figure 5</a>.</p>
</li>
<li>
<p><strong>Brownfield.</strong> In a brownfield physical deployment, you build within an existing environment. A brownfield deployment can demonstrate the capabilities of the IMC Quick Start in cases where the customer already has a  application running on premises. AWS IoT Greengrass runs on a standalone industrial PC and connects to the partner edge application, which may be running on a virtual machine in the server room of a factory. Assume that your access to the hardware is limited or nonexistent and that your ability to reconfigure the edge-software server is limited to additive changes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_review_edge_devices_physical_deployments_only">Review edge devices (physical deployments only)</h3>
<div class="paragraph">
<p>The IMC Quick Start supports the following edge devices:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lenovo</p>
<div class="ulist">
<ul>
<li>
<p>Model: ThinkCentre M90n IoT</p>
</li>
<li>
<p>Architecture: Intel Celeron 4205U (x86)</p>
</li>
<li>
<p>URL: <a href="https://www.lenovo.com/us/en/desktops-and-all-in-ones/thinkcentre/m-series-tiny/ThinkCentre-M90n-IoT/p/thinkcentre-m90n-iot" class="bare">https://www.lenovo.com/us/en/desktops-and-all-in-ones/thinkcentre/m-series-tiny/ThinkCentre-M90n-IoT/p/thinkcentre-m90n-iot</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>ADLINK</p>
<div class="ulist">
<ul>
<li>
<p>Model: MXE-211</p>
</li>
<li>
<p>Architecture: Intel Atom processor E3900 (x86)</p>
</li>
<li>
<p>URL: <a href="https://www.adlinktech.com/Products/Industrial_IoT_and_Cloud_solutions/IoTGateway/MXE-210_Series?lang=en" class="bare">https://www.adlinktech.com/Products/Industrial_IoT_and_Cloud_solutions/IoTGateway/MXE-210_Series?lang=en</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>OnLogic</p>
<div class="ulist">
<ul>
<li>
<p>Model: Karbon 300 compact rugged computer</p>
</li>
<li>
<p>Architecture: Intel Atom E3930 or E3950 processors</p>
</li>
<li>
<p>URL: <a href="https://onlogic.com/k300/" class="bare">https://onlogic.com/k300/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Advantech</p>
<div class="ulist">
<ul>
<li>
<p>Model: UNO-2372G</p>
</li>
<li>
<p>Architecture: Intel Atom E3845/Celeron J1900 quad-core processors</p>
</li>
<li>
<p>URL: <a href="https://www.advantech.com/products/1-2mlj9a/uno-2372g/mod_f4ff5680-f016-44bd-bff0-e5eddfd82237" class="bare">https://www.advantech.com/products/1-2mlj9a/uno-2372g/mod_f4ff5680-f016-44bd-bff0-e5eddfd82237</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>MOXA</p>
<div class="ulist">
<ul>
<li>
<p>Model: MC-1112-E4-T</p>
</li>
<li>
<p>Architecture: Intel Atom processor E3845</p>
</li>
<li>
<p>URL: <a href="https://www.moxa.com/en/products/industrial-computing/x86-computers/mc-1100-series/mc-1121-e4-t" class="bare">https://www.moxa.com/en/products/industrial-computing/x86-computers/mc-1100-series/mc-1121-e4-t</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_review_the_dataflow_options">Review the dataflow options</h3>
<div class="paragraph">
<p>When you deploy the IMC Quick Start, you choose between three dataflow options. Each option ingests data differently from the edge environment into the AWS Cloud. For illustrations of these dataflows in the virtual and physical deployments, see (<a href="#architecture-virtual">Figure 2</a>) and (<a href="#architecture-physical">Figure 4</a>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Dataflow option 1 (OPC UA to AWS IoT SiteWise).</strong> With this option, you configure the AWS IoT SiteWise connector to connect to the partner edge application OPC UA server. All telemetry data flows directly into AWS IoT SiteWise.</p>
</li>
<li>
<p><strong>Dataflow option 2a (MQTT to AWS IoT Core).</strong> With this option, the partner edge-software server connects to AWS IoT Core from MQTT. All telemetry data is pushed from the edge-software server to AWS IoT Core. From there, the data is pushed to Amazon S3 for processing. Data is not forwarded to AWS IoT SiteWise. Custom development is required to populate data in AWS IoT SiteWise.</p>
</li>
<li>
<p><strong>Dataflow option 2b (MQTT to AWS IoT Greengrass to AWS IoT Core).</strong> This option is identical to 2a except that the edge-software server pushes MQTT data messages to AWS IoT Greengrass core first. Then those messages are forwarded to AWS IoT Core. Data is not forwarded to AWS IoT SiteWise. Custom development is required to populate data in AWS IoT SiteWise.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For physical deployments, you configure both the deployment type and the dataflow option during the post-deployment steps by using one of the following bootup scripts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BootupScriptGreenfieldOption1 (greenfield deployment, dataflow option 1)</p>
</li>
<li>
<p>BootupScriptGreenfieldOption2a (greenfield deployment, dataflow option 2a)</p>
</li>
<li>
<p>BootupScriptGreenfieldOption2b (greenfield deployment, dataflow option 2b)</p>
</li>
<li>
<p>BootupScriptBrownfieldAllOptions (brownfield deployment, any dataflow option)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_review_the_amc_drivers">Review the AMC drivers</h3>
<div class="paragraph">
<p>When you deploy the IMC Quick Start, you choose an AMC driver. This driver determines which edge application the IMC Quick Start connects to AWS IoT SiteWise. For the AWS CloudFormation stack <code>AMCDriver</code> parameter, you can choose any of four drivers: IgnitionCirrusLink, IgnitionFileExport, KepwareFileExport, or Element Unify.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>IgnitionCirrusLink</strong>. This is the default AMC driver. It runs automatically and creates the AWS IoT SiteWise resources automatically when you launch the IMC Quick Start virtual option. The Cirrus Link transmission module runs on Ignition to publish birth certificates for all devices defined with Ignition&#8217;s tag database. This module follows the Sparkplug version B specification for MQTT. For the AWS CloudFormation stack&#8217;s <code>AMCDriver</code> parameter, you leave the default set to <code>IgnitionCirrusLink</code>.</p>
</li>
<li>
<p><strong>IgnitionFileExport</strong>. This AMC driver uses the manual tag-definition file-export mechanism within Ignition. With this AMC driver, you manually export the tag-definition file and upload it to an S3 bucket to initiate the AMC process during the post-deployment steps. For the AWS CloudFormation stack&#8217;s <code>AMCDriver</code> parameter, you choose <code>IgnitionFileExport</code>.</p>
</li>
<li>
<p><strong>KepwareFileExport</strong>. This AMC driver uses the manual tag-definition file-export mechanism within Kepware. With this AMC driver, you manually export the tag-definition file and upload it to an S3 bucket to initiate the AMC process during the post-deployment steps. For the AWS CloudFormation stack&#8217;s <code>AMCDriver</code> parameter, you choose <code>KepwareFileExport</code>.</p>
</li>
<li>
<p><strong>ElementUnify</strong>. If choosing Element Unify as the Asset Modeling configuration parameter, then select <code>Element Unify</code> for the AMC driver. This will not deploy any drivers for the Asset Model Converter. With Element Unify, you manually export the tag-definition file from either edge application and upload it to an S3 bucket to initiate the automated import of the source system file into Element Unify.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you choose to include Element Unify in the Quick Start deployment, a valid Element Unify account is required.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_enable_aws_sso">Enable AWS SSO</h3>
<div class="paragraph">
<p>If AWS SSO has not already been enabled in the Region where you are launching the AWS CloudFormation stack, enable it as follows.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account at <a href="https://aws.amazon.com" class="bare">https://aws.amazon.com</a> with an IAM user role that has the necessary permissions.</p>
</li>
<li>
<p>Sign in to the AWS Management Console, and open the AWS SSO service. Make sure that you are in the Region where you are launching the AWS CloudFormation stack.</p>
</li>
<li>
<p>Choose <strong>Enable AWS SSO</strong>.</p>
</li>
<li>
<p>If you don&#8217;t have an AWS organization set up for your account (as required for AWS SSO usage), you&#8217;re prompted to create one. Choose <strong>Create AWS organization</strong>. For more information, see the <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/getting-started.html" target="_blank" rel="noopener">Getting Started</a> page in the AWS SSO documentation.</p>
</li>
<li>
<p>Create an AWS SSO group.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open the AWS SSO service in the AWS Management Console.</p>
</li>
<li>
<p>Choose <strong>Groups</strong> in the navigation bar.</p>
</li>
<li>
<p>If no groups exist, choose <strong>Create group</strong>.</p>
</li>
<li>
<p>Give the group a name and choose <strong>Create</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create an AWS SSO user.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open the AWS SSO service in the AWS Management Console.</p>
</li>
<li>
<p>Choose <strong>Users</strong> in the navigation bar.</p>
</li>
<li>
<p>Choose <strong>Add user</strong>.</p>
</li>
<li>
<p>Provide a user name, and fill in the remaining boxes.</p>
</li>
<li>
<p>Choose <strong>Next, Groups</strong>.</p>
</li>
<li>
<p>Choose a group, and then choose <strong>Add user</strong>. The AWS SSO user is now active. This user will be able to access the AWS IoT SiteWise Monitor dashboards.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_set_up_quicksight">Set up QuickSight</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the QuickSight console, and choose <strong>Sign up for QuickSight</strong>.</p>
</li>
<li>
<p>Choose an edition: <strong>Standard</strong> or <strong>Enterprise</strong>.</p>
</li>
<li>
<p>Choose the AWS Region that you plan to deploy the IMC Quick Start into. QuickSight is now enabled and is ready for use.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_create_an_ec2_ssh_key_pair">Create an EC2 SSH key pair</h3>
<div class="paragraph">
<p>If you do not already have an EC2 SSH (Secure Shell) key pair available (PEM file format), create one in the Region where you are launching the AWS CloudFormation stack. For instructions, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank" rel="noopener">Amazon EC2 key pairs and Linux instances</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_an_aws_iot_sitewise_service_linked_role">Create an AWS IoT SiteWise service-linked role</h3>
<div class="paragraph">
<p>Run the following command from the AWS CLI:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>aws iam create-service-linked-role --aws-service-name iotsitewise.amazonaws.com --description "Service-linked role to support IoT SiteWise"</pre>
</div>
</div>
<div class="paragraph">
<p>For more information about creating service-linked-roles, see <a href="https://docs.aws.amazon.com/iot-sitewise/latest/userguide/using-service-linked-roles.html" target="_blank" rel="noopener">Using service-linked roles for AWS IoT SiteWise</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connect_to_the_edge_hardware_physical_deployments_only">Connect to the edge hardware (physical deployments only)</h3>
<div class="paragraph">
<p>For physical deployments, connect to the edge hardware as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect to your hardware running Ubuntu 18.04.</p>
</li>
<li>
<p>Ensure that you can connect to the internet.</p>
</li>
<li>
<p>Using either an SSH command or a connection to the device with a keyboard and monitor, configure the AWS CLI on the hardware to communicate with the AWS account you plan to deploy in. For details, see <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html" target="_blank" rel="noopener">Configuring the AWS CLI</a>.</p>
</li>
<li>
<p>Ensure that the directory structure of the hardware running Ubuntu 18.04 looks like this:</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>home/
    ubuntu</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>For physical-brownfield deployments with Ignition, ensure that you are using these minimum software versions:</p>
<div class="ulist">
<ul>
<li>
<p>Ignition: 8.0.12</p>
</li>
<li>
<p>Cirrus Link MQTT transmission module: 4.0.4-SNAPSHOT (b2020051210)</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_deployment_options">Deployment options</h4>
<div class="paragraph">
<p>This Quick Start provides two deployment options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Deploy Industrial Machine Connectivity into a new VPC</strong>. This option builds a new AWS environment consisting of the VPC, subnet, security group, and other infrastructure components. It then deploys Industrial Machine Connectivity into this new VPC.</p>
</li>
<li>
<p><strong>Deploy Industrial Machine Connectivity into an existing VPC</strong>. This option provisions Industrial Machine Connectivity in the default VPC of your existing AWS infrastructure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Quick Start provides separate templates for these options.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deployment_steps">Deployment steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sign_in_to_your_aws_account">Sign in to your AWS account</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account at <a href="https://aws.amazon.com" class="bare">https://aws.amazon.com</a> with an IAM user role that has the necessary permissions. For details, see <a href="#_planning_the_deployment">Planning the deployment</a> earlier in this guide.</p>
</li>
<li>
<p>Make sure that your AWS account is configured correctly, as discussed in the <a href="#_technical_requirements">Technical requirements</a> section.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_launch_the_quick_start">Launch the Quick Start</h3>
<div class="paragraph">
<p>Each deployment takes about 10 minutes to complete.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account, and choose one of the following options to launch the AWS CloudFormation template. For help with choosing an option, see <a href="#_deployment_options">Deployment options</a> earlier in this guide. There are two options for asset data modeling:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Option 1 - Asset Model Converter</strong> The Asset model converter converts tag definitions and source data models from edge devices into AWS IoT SiteWise models.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://fwd.aws/8QYNd" target="_blank" rel="noopener">Deploy Industrial Machine Connectivity into a new VPC on AWS</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://fwd.aws/WqBVa" target="_blank" rel="noopener">View template</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://fwd.aws/rYGxm" target="_blank" rel="noopener">Deploy Industrial Machine Connectivity into an existing VPC on AWS</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://fwd.aws/6QEKM" target="_blank" rel="noopener">View template</a></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Option 2 - Element Unify</strong> Element Unify uses a no code/low code approach to build and publish models to AWS IoT SiteWise.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/create/review?stackName=aws-imc-unify&amp;templateURL=https://imc-unify-demo.s3.amazonaws.com/unify-quickstart-aws-imc-integration/templates/IMC-main.template.yaml&amp;param_ModelingVendorType=Element%20Unify&amp;param_VPCCIDR=10.0.0.0/16&amp;param_EdgeDeviceID=Virtual&amp;param_PublicSubnet1CIDR=10.0.128.0/20&amp;param_VPCTenancy=default&amp;param_UnifyHostname=https://app001-aws.elementanalytics.com/&amp;param_UnifyOrgId=0&amp;param_DeploymentType=Virtual&amp;param_AMCDriver=Element%20Unify&amp;param_GreengrassInstanceType=t3.small&amp;param_IgnitionInstanceType=t3.large&amp;param_QSS3BucketRegion=us-east-1&amp;param_DeploymentOption=Option1&amp;param_QSS3BucketName=aws-quickstart&amp;param_QSS3KeyPrefix=quickstart-aws-industrial-machine-connectivity/" target="_blank" rel="noopener">Deploy Industrial Machine Connectivity with Element Unify into a new VPC on AWS</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://imc-unify-demo.s3.amazonaws.com/unify-quickstart-aws-imc-integration/templates/IMC-main.template.yaml" target="_blank" rel="noopener">View template</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/create/review?stackName=aws-imc-unify&amp;templateURL=https://imc-unify-demo.s3.amazonaws.com/unify-quickstart-aws-imc-integration/templates/IMC-workload.template.yaml&amp;param_ModelingVendorType=Element%20Unify&amp;param_VPCCIDR=10.0.0.0/16&amp;param_EdgeDeviceID=Virtual&amp;param_VPCTenancy=default&amp;param_UnifyHostname=https://app001-aws.elementanalytics.com/&amp;param_UnifyOrgId=0&amp;param_DeploymentType=Virtual&amp;param_AMCDriver=Element%20Unify&amp;param_GreengrassInstanceType=t3.small&amp;param_IgnitionInstanceType=t3.large&amp;param_QSS3BucketRegion=us-east-1&amp;param_DeploymentOption=Option1&amp;param_QSS3BucketName=aws-quickstart&amp;param_QSS3KeyPrefix=quickstart-aws-industrial-machine-connectivity/" target="_blank" rel="noopener">Deploy Industrial Machine Connectivity with Element Unify into a new VPC on AWS</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://imc-unify-demo.s3.amazonaws.com/unify-quickstart-aws-imc-integration/templates/IMC-workload.template.yaml" target="_blank" rel="noopener">View template</a></p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Check the AWS Region that&#8217;s displayed in the upper-right corner of the navigation bar, and change it if necessary. This Region is where the network infrastructure for Industrial Machine Connectivity is built. The template is launched in the us-east-1 Region by default. For other choices, see <a href="#_supported_regions">Supported Regions</a> earlier in this guide.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>On the <strong>Create stack</strong> page, keep the default setting for the template URL, and then choose <strong>Next</strong>.</p>
</li>
<li>
<p>On the <strong>Specify stack details</strong> page, change the stack name if needed. Review the parameters for the template. Provide values for the parameters that require input. For all other parameters, review the default settings and customize them as necessary. For details on each parameter, see the <a href="#_parameter_reference">Parameter reference</a> section of this guide. When you finish reviewing and customizing the parameters, choose <strong>Next</strong>.</p>
</li>
<li>
<p>On the <strong>Configure stack options</strong> page, you can <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html" target="_blank" rel="noopener">specify tags</a> (key-value pairs) for resources in your stack and <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html" target="_blank" rel="noopener">set advanced options</a>. When you’re finished, choose <strong>Next</strong>.</p>
</li>
<li>
<p>On the <strong>Review</strong> page, review and confirm the template settings. Under <strong>Capabilities</strong>, select the two check boxes to acknowledge that the template creates IAM resources and might require the ability to automatically expand macros.</p>
</li>
<li>
<p>Choose <strong>Create stack</strong> to deploy the stack.</p>
</li>
<li>
<p>Monitor the status of the stack. When the status is <strong>CREATE_COMPLETE</strong>, the IMC deployment is ready.</p>
</li>
<li>
<p>To view the created resources, see the values displayed in the <strong>Outputs</strong> tab for the stack.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_post_deployment_steps">Post-deployment steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Stack deployment takes approximately 10 minutes. You can track the progress of the stack launch by viewing the “Events” tab of the CloudFormation stack console. Once the CloudFormation stack is completed, follow the <a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/main/assets/readme/post-deployment.md" target="_blank" rel="noopener">post-deployment steps</a> to configure the IMC Quick Start to make it operational.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
After post-deployment steps, return back to finish the deployment.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_clean_up_the_aws_cloudformation_stack_deployment">Clean up the AWS CloudFormation stack deployment</h3>
<div class="paragraph">
<p>Follow these steps to clean up the Quick Start AWS CloudFormation stack deployment.</p>
</div>
<div class="sect3">
<h4 id="_clean_up_cloud_assets">Clean up cloud assets</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the AWS CloudFormation console, and delete the base stack (not the stack named <strong>NESTED</strong>) to clean up the account as much as possible. Most of the resources are deleted, but the stack deletion fails due to nonempty S3 buckets and potentially a deployed AWS IoT Greengrass group (for all virtual options by default, and for all physical deployments that have been completed on a piece of hardware).</p>
</li>
<li>
<p>Empty the S3 buckets.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Sign in to the AWS Management Console, and open the Amazon S3 service.</p>
</li>
<li>
<p>In the search bar, enter your stack name.</p>
</li>
<li>
<p>For each bucket that is associated with the stack, choose the bucket, and choose <strong>Empty</strong> under the search bar. This is the bucket-naming convention (replacing the bracketed elements):</p>
<div class="literalblock">
<div class="content">
<pre>`&lt;name_of_stack&gt;-&lt;bucket_identifier&gt;-&lt;unique hash&gt;`</pre>
</div>
</div>
<div class="paragraph">
<p>Following are the values for &lt;bucket_identifiers&gt; for each deployment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>amcincomingresource</p>
</li>
<li>
<p>amcoutputresource</p>
</li>
<li>
<p>devicesbucketresource</p>
</li>
<li>
<p>imcs3bucket</p>
</li>
<li>
<p>lambdazipsbucket</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Force a reset of the AWS IoT Greengrass group.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open the AWS IoT Greengrass console.</p>
</li>
<li>
<p>Choose the AWS IoT Greengrass group with the <strong>EdgeDeviceID</strong> parameter provided to the stack.</p>
</li>
<li>
<p>Under <strong>Actions</strong>, choose <strong>Reset Deployments</strong>.</p>
</li>
<li>
<p>Select the check box indicating that you want to force the reset.</p>
</li>
<li>
<p>Choose <strong>Reset Deployment</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Navigate back to the AWS CloudFormation console, and again delete the base stack—the main stack (the one that does not have <strong>NESTED</strong> in a gray box associated with it).</p>
</li>
<li>
<p>(Optional) Clean up other resources, such as AWS IoT SiteWise portal, gateway, models, and assets as well as the QuickSight dataset.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_clean_up_edge_hardware">Clean up edge hardware</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to a terminal on the edge hardware. Run the <code>sudo su</code> command to become the root user.</p>
</li>
<li>
<p>Stop and remove Ignition from hardware as follows, replacing the information in brackets. (Not applicable for physical brownfield deployments.)</p>
<div class="literalblock">
<div class="content">
<pre>cd /&lt;path_to_Ignition_download&gt;/Ignition-AWS-Kit-MQTT-v4
./remove.sh
cd ..
rm device.tar.gz group.tar.gz opcclient.der Ignition-AWS-Kit-MQTT-v4.zip physical-greenfield-option&lt;insert_option_here&gt;.sh
rm -rf Ignition-AWS-Kit-MQTT-v4</pre>
</div>
</div>
</li>
<li>
<p>Stop and remove AWS IoT Greengrass:</p>
<div class="literalblock">
<div class="content">
<pre>apt remove aws-iot-greengrass-core
rm -rf /greengrass
rm -rf /var/sitewise</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_additional_resources">Additional resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/develop/assets/readme/amc.md">Asset Model Converter (AMC) and creating AMC drivers</a></p>
</li>
<li>
<p><a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/develop/assets/readme/additional-info.md#amc-approved-dynamodb-format">AMC approved DyanamoDB table format</a></p>
</li>
<li>
<p><a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/develop/assets/readme/additional-info.md#add-a-line-and-device-to-an-ignition-project">Adding a line and device to an Ignition project</a></p>
</li>
<li>
<p><a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/develop/assets/readme/additional-info.md#setting-up-a-quicksight-dashboard-along-with-the-imc-quick-start-deployment">Setting up a QuickSight dashboard</a></p>
</li>
<li>
<p><a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity/blob/develop/assets/readme/additional-info.md#launching-cloudformation-stack-from-your-own-s3-bucket">Extending or modifying the IMC Quick Start with new features and capabilities</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">FAQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Q.</strong> I encountered a <strong>CREATE_FAILED</strong> error when I launched the Quick Start.</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> If AWS CloudFormation fails to create the stack, relaunch the template with <strong>Rollback on failure</strong> set to <strong>Disabled</strong>. This setting is under <strong>Advanced</strong> in the AWS CloudFormation console on the <strong>Configure stack options</strong> page. With this setting, the stack&#8217;s state is retained, and the instance keeps running so that you can troubleshoot the issue. (For Windows, look at the log files in <code>%ProgramFiles%\Amazon\EC2ConfigService</code> and <code>C:\cfn\log</code>.)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
When you set <strong>Rollback on failure</strong> to <strong>Disabled</strong>, you continue to incur AWS charges for this stack. Delete the stack when you finish troubleshooting.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" target="_blank" rel="noopener">Troubleshooting AWS CloudFormation</a>.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> I encountered a size-limitation error when I deployed the AWS CloudFormation templates.</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> Launch the Quick Start templates from the links in this guide or from another S3 bucket. If you deploy the templates from a local copy on your computer or from a location other than an S3 bucket, you might encounter template-size limitations. For more information, see <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html" target="_blank" rel="noopener">AWS CloudFormation quotas</a>.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Can I update a stack to a different deployment type (physical, virtual) or dataflow option (Option1, 2a, 2b)?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> Updates are not supported. To achieve a different deployment type or dataflow type, deploy a new stack. See the following question and answer for details on deploying more than one stack in an account. Then decide whether to delete your original stack before creating another.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Can I deploy multiple times in the same AWS account?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> Yes, you may deploy multiple stacks in the same account. Be wary of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Option 1 deployments, AWS IoT SiteWise may receive data from multiple sources if, for example, two instances of Ignition are publishing data onto the topic <code>/Tag Providers/default/Line1/CNC/Temperature</code>.</p>
</li>
<li>
<p>If AWS IoT SiteWise models and assets exist in the Cloud from a previous deployment, a new deployment does not recreate the model or asset hierarchy. Instead, the Asset Model Converter operates by recognizing any changes in the existing models or assets and the new deployment hierarchy. For example:</p>
<div class="ulist">
<ul>
<li>
<p>If the previously deployed hierarchy is identical to the newly deployed one, nothing in AWS IoT SiteWise is changed.</p>
</li>
<li>
<p>If the newly deployed hierarchy has an identical structure to the previously deployed hierarchy with additional nodes that follow the hierarchy pattern, the new models or assets are created in AWS IoT SiteWise:</p>
<div class="ulist">
<ul>
<li>
<p>Previous:</p>
<div class="literalblock">
<div class="content">
<pre>Line 1/CNC1/Temperature</pre>
</div>
</div>
</li>
<li>
<p>New:</p>
<div class="literalblock">
<div class="content">
<pre>Line 1/CNC1/Temperature
Line 1/CNC2/Temperature</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If the newly deployed hierarchy has a different hierarchy than the previously deployed hierarchy altogether, the Asset Model Converter does not create the new models and assets.</p>
</li>
<li>
<p>Refer to the instructions in the appendix showing how to add a line and device with tags to a project in Ignition using Ignition Designer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Does any hardening of the operating system occur during deployment?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> Yes. Fail2ban is installed and enabled on the device, which bans IPs that show the following malicious signs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Too many password failures.</p>
</li>
<li>
<p>Seeking exploits.</p>
</li>
<li>
<p>Shared memory on the device is secured by <code>/etc/fstab</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Can I rerun the AMC to create new models and assets?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> Yes. Follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If any of the models or assets you want to create shares a name with the models or assets created in the first pass of the AMC execution, delete the models and assets in AWS IoT SiteWise.</p>
</li>
<li>
<p>Clear out the following DynamoDB tables associated with the initial IMC Quick Start deployment (replacing the information in brackets):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Table 1: <code>&lt;stack-name&gt;-asset-model-table</code></p>
</li>
<li>
<p>Table 2: <code>&lt;stack-name&gt;-asset-table</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depending on the AMC driver you used, take the follow actions to rerun the AMC:</p>
</div>
<div class="paragraph">
<p><strong>AMC driver: IgnitionCirrusLink</strong></p>
</div>
<div class="paragraph">
<p>Initiate a rebirth (NBIRTH,DBIRTH) MQTT message that represents the your project hierarchy.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect to your Ignition server in Ignition Designer.</p>
</li>
<li>
<p>Launch Ignition Designer, open the tag browser, and choose <strong>Tag providers</strong>, <strong>MQTT Transmission</strong>, <strong>Transmission Control</strong>.</p>
</li>
<li>
<p>Choose the <strong>Refresh</strong> button. A birth message is initiated.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/RefreshBirthCertificates.png"><img src="images/RefreshBirthCertificates.png" alt="Refresh birth certificates"></a>
</div>
<div class="title">Figure 9. Refresh Sparkplug Birth Certificates</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>This action initiates the IMC Quick Start&#8217;s AMC, which creates the models and assets that represent the Ignition hierarchy in AWS IoT SiteWise.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>AMC driver: IgnitionFileExport</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain your JSON file that represents the new hierarchy and drop it into the following S3 bucket (replacing the information in brackets):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>&lt;name_of_stack&gt;-&lt;amcincomingresource&gt;-&lt;hash&gt;</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>AMC driver: KepServerFileExport</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain your JSON file that represents the new hierarchy and drop it into the following S3 bucket:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>&lt;name_of_stack&gt;-&lt;amcincomingresource&gt;-&lt;hash&gt;</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Q.</strong> How do I add a QuickSight visual?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> You may create Amazon QuickSight visuals for the data that is put in the S3 bucket by the Kinesis Data Firehose. Before you create these visuals, complete the following prerequisite steps:</p>
</div>
<div class="paragraph">
<p>Prerequisites:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sign in to the AWS Management Console, and open the QuickSight service console.</p>
<div class="ulist">
<ul>
<li>
<p>If you have not previously used QuickSight, you are prompted to grant access to QuickSight. See <a href="https://docs.aws.amazon.com/quicksight/latest/user/getting-started.html" target="_blank" rel="noopener">Getting Started with Data Analysis in Amazon QuickSight</a> for additional details.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create a QuickSight visual.</p>
<div class="ulist">
<ul>
<li>
<p>The data source is the S3 bucket that receives data from the AWS IoT Core rule. The S3 bucket is named <code>&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;</code> (replacing the information in brackets).</p>
</li>
<li>
<p>Open the Amazon QuickSight console home page, and choose <strong>New analysis</strong>, <strong>New dataset</strong>. Then choose the <strong>Amazon S3</strong> service icon.</p>
</li>
<li>
<p>Add details for the dataset:</p>
</li>
<li>
<p>Data source name: Provide a name for the IMC dataset, such as <strong>IMC-QS-Dataset</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Manifest file: Leave the <strong>URL</strong> radio button chosen for the <strong>Upload a manifest file</strong> text entry option, and paste the URL of the S3 bucket manifest file. The manifest file is located in the same S3 bucket where the data is stored (S3 bucket name: <code>&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;</code>). The manifest file is named <code>imcquicksightdata.json</code>. The S3 URL follows this naming convention: <code>https:// &lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;.s3.amazonaws.com/imcquicksightdata.json</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Q.</strong>
How do I add a QuickSight visual?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong>
You may create Amazon QuickSight visuals for the data that is put in the S3 bucket by the Kinesis Data Firehose. Before you create these visuals, complete the following prerequisite steps:</p>
</div>
<div class="paragraph">
<p>Prerequisites:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to the AWS Management Console, and open the QuickSight service console.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you have not previously used QuickSight, you are prompted to grant access to QuickSight. See <a href="https://docs.aws.amazon.com/quicksight/latest/user/getting-started.html" target="_blank" rel="noopener">Getting Started with Data Analysis in Amazon QuickSight</a> for additional details.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create a QuickSight visual.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The data source is the S3 bucket that receives data by the AWS IoT Core rule. The S3 bucket is named <code>&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;</code> (replacing the information in brackets).</p>
</li>
<li>
<p>Open the Amazon QuickSight console, and choose <strong>New analysis</strong>, <strong>New dataset</strong>. Choose the Amazon S3 service icon.</p>
</li>
<li>
<p>Add details for the dataset:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Data source name: Provide a name for the IMC dataset, such as <strong>IMC-QS-Dataset</strong>.</p>
</li>
<li>
<p>Manifest file: Leave the <strong>URL</strong> radio button chosen for the <strong>Upload a manifest file</strong> text entry option, and paste the URL of the S3 bucket manifest file. The manifest file is located in the same S3 bucket where the data is stored (S3 bucket name: <code>&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;</code>).</p>
</li>
<li>
<p>The manifest file is named <code>imcquicksightdata.json</code>. The URL follows this naming convention:</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p><code><a href="https://&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;.s3.amazonaws.com/imcquicksightdata.json" class="bare">https://&lt;stack_name&gt;-imcs3bucket-&lt;hash&gt;.s3.amazonaws.com/imcquicksightdata.json</a></code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Quarantined certificate in Ignition doesn&#8217;t show up (or data doesn&#8217;t show up for dataflow option 1 deployments)</strong></p>
</div>
<div class="paragraph">
<p>First, verify that the Ignition trial period (2 hours) has not expired. If that action does not remediate the issue, repeat the process of refreshing the AWS IoT SiteWise gateway:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the AWS IoT SiteWise console, and choose <strong>Edge</strong>, <strong>Gateways</strong>.</p>
</li>
<li>
<p>Choose the gateway created during the stack launch (replacing the information in brackets):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Naming convention: <code>&lt;name_of_stack&gt;_Automated_Gateway</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>In the <strong>Source Configuration for Automated Gateway Config</strong> section, choose <strong>Edit</strong>.</p>
</li>
<li>
<p>Choose <strong>Save</strong> at the bottom. No changes are necessary. This action activates the AWS IoT SiteWise gateway to make sure that data flows from the OPC UA server.</p>
</li>
<li>
<p>If it hasn&#8217;t already been done, navigate to Ignition, and look for and accept the quarantined certificate.</p>
<div class="ulist">
<ul>
<li>
<p>If using KepServer for Windows, make sure that your default firewalls have been turned off. They prevent the AWS IoT SiteWise gateway certificates from showing up.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Can&#8217;t access Ignition web UI</strong></p>
</div>
<div class="paragraph">
<p>Ensure that you&#8217;re attempting to connect from the same network you defined as your public IP while setting up the stack. If you&#8217;re attempting from a different network, edit the security group associated with the two EC2 instances. (It&#8217;s the same security group.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the EC2 console.</p>
</li>
<li>
<p>Highlight one of the two EC2 instances that has been created for your deployment.</p>
</li>
<li>
<p>Scroll to the right and choose the security group associated with the EC2 instance.</p>
</li>
<li>
<p>Edit the inbound rules for the rule associated with port 8088 to match the IP address you&#8217;re attempting the connection from.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Narrowing Ignition or AWS IoT Greengrass permissions (for workload template deployments only)</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the EC2 console.</p>
</li>
<li>
<p>Take note of the private IP addresses of the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The AWS IoT Greengrass EC2 instance for the current deployment</p>
</li>
<li>
<p>The Ignition EC2 instance for the current deployment</p>
</li>
</ol>
</div>
</li>
<li>
<p>Highlight one of the two EC2 instances that has been created for your deployment.</p>
</li>
<li>
<p>Scroll to the right and choose the security group associated with the EC2 instance.</p>
</li>
<li>
<p>Edit the rule associated with port 8883 and replace <strong>0.0.0.0/0</strong> with the private IP address for the Ignition EC2 instance.</p>
</li>
<li>
<p>Edit the rule associated with port 62541 and replace <strong>0.0.0.0/0</strong> with the private IP address for the AWS IoT Greengrass EC2 instance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Models and assets weren&#8217;t created in AWS IoT SiteWise</strong></p>
</div>
<div class="paragraph">
<p>If models and assets were not created in AWS IoT SiteWise and the Cirrus Link AMC driver was used, follow these steps to troubleshoot.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the Ignition console, and navigate to MQTT transmission settings.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/IgnitionSettings.png"><img src="images/IgnitionSettings.png" alt="Ignition settings"></a>
</div>
<div class="title">Figure 10. Ignition—Settings</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Choose <strong>Servers</strong>, <strong>Settings</strong>, <strong>Edit</strong>.</p>
</li>
<li>
<p>At the bottom of the screen, select the <strong>Show advanced properties</strong> check box.</p>
</li>
<li>
<p>Under <strong>Data Format Type</strong>, choose <strong>Sparkplug_B_v1_0_JSON</strong>.</p>
</li>
<li>
<p>Choose <strong>Save Changes</strong>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/Ignition-MQTT-Settings.png"><img src="images/Ignition-MQTT-Settings.png" alt="Ignition MQTT settings"></a>
</div>
<div class="title">Figure 11. Ignition—MQTT transmission module settings</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Verify that <code>tagPathConfiguration</code> is not being filtered out:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the MQTT transmission module settings, choose <strong>Transmitters</strong>, <strong>Edit</strong>.</p>
</li>
<li>
<p>At the bottom of the screen, select the <strong>Show advanced properties</strong> check box.</p>
</li>
<li>
<p>Verify that <code>tagPathConfiguration</code> is not being filtered out.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div id="ignition-mqtt-filtered" class="imageblock">
<div class="content">
<a class="image" href="images/Ignition-MQTT-Filtered-Properties.png"><img src="images/Ignition-MQTT-Filtered-Properties.png" alt="Ignition MQTT filtered properties"></a>
</div>
<div class="title">Figure 12. Ignition—MQTT transmission module filtered properties</div>
</div>
<div class="paragraph">
<p>If these settings are as shown in <a href="#ignition-mqtt-filtered">Figure 12</a> and you&#8217;re still receiving errors, check the Lambda function responsible for creating the models and assets in AWS IoT SiteWise for errors:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the AWS Lambda console, and navigate to the function with this name (replacing the information in brackets):
<code>&lt;name_of_stack&gt;-AssetModelIngestionLambdaResource-&lt;hash&gt;</code></p>
</li>
<li>
<p>Choose the <strong>Monitoring</strong> tab.</p>
</li>
<li>
<p>Choose <strong>View logs in CloudWatch</strong>.</p>
</li>
<li>
<p>Click into the most recent log stream, and find the error message to troubleshoot.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Data from the MQTT transmission module doesn&#8217;t show up in the IoT cloud</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the public IP address of that instance, and load a URL like this into any browser (replacing the information in brackets):</p>
<div class="literalblock">
<div class="content">
<pre>http://&lt;hardwarePrivateIP&gt;:8088</pre>
</div>
</div>
</li>
<li>
<p>Open the Ignition web UI. Choose the gear-like icon on the left labeled <strong>Config</strong>. When prompted, log in. If you haven&#8217;t already changed your password, do so after you&#8217;ve logged in. These are the default credentials:</p>
<div class="ulist">
<ul>
<li>
<p>User name: admin</p>
</li>
<li>
<p>Password: password (default password)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Choose <strong>MQTT Transmission</strong>, <strong>Settings</strong>, <strong>Server</strong>. Confirm that the connectivity shows 1 of 1. If it doesn&#8217;t, choose <strong>Edit</strong> and do the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make sure that the URL is in the format: <code>ssl://&lt;your_aws_account_iot_endpoint&gt;:8883</code></p>
</li>
<li>
<p>Download the .tar.gz` file that represents the non-GreenGrass IoT thing from the following S3 bucket location (replacing the information in brackets):</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Bucket name: <code>&lt;stack_name&gt;-devicesbucketresource-&lt;hash&gt;</code></p>
</li>
<li>
<p>Key name: <code>&lt;name_for_edge_device_parameter&gt;/&lt;name_for_edge_device_parameter&gt;Device.tar.gz</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expand the tarball.</p>
</li>
<li>
<p>Replace the CA certificate file with <code>root.ca.pem</code> from the tarball package.</p>
</li>
<li>
<p>Replace the client certificate file with the <code>.pem</code> file from the tarball package.</p>
</li>
<li>
<p>Replace the client private key file with the <code>.private</code> file from the tarball package.</p>
</li>
<li>
<p>Choose <strong>Save Changes</strong>, and make sure that the connectivity says <strong>1 of 1</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parameter_reference">Parameter reference</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Unless you are customizing the Quick Start templates for your own deployment projects, keep the default settings for the parameters labeled <strong>Quick Start S3 bucket name</strong>, <strong>Quick Start S3 bucket Region</strong>, and <strong>Quick Start S3 key prefix</strong>. Changing these parameter settings automatically updates code references to point to a new Quick Start location. For more information, see the <a href="https://aws-quickstart.github.io/option1.html" target="_blank" rel="noopener">AWS Quick Start Contributor’s Guide</a>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_parameters_for_deploying_into_an_existing_vpc">Parameters for deploying into an existing VPC</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Asset Modeling configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asset modeling and deployment application
(<code>ModelingVendorType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Asset Model Converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the asset modeling application to create and update source system assets into AWS IoT SiteWise. Element Unify builds a single, federated &amp; contextualized asset data model. For more information, see <a href="https://aws.amazon.com/marketplace/pp/Element-Element-Unify-Software/B08VZY2ZJB" class="bare">https://aws.amazon.com/marketplace/pp/Element-Element-Unify-Software/B08VZY2ZJB</a>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Element Unify configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify host
(<code>UnifyHostname</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://app001-aws.elementanalytics.com/" class="bare">https://app001-aws.elementanalytics.com/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify hostname. Typically <a href="https://app001-aws.elementanalytics.com/" class="bare">https://app001-aws.elementanalytics.com/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify organization id
(<code>UnifyOrgId</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify organization Id. The organization id is found in the url after you log in to Element Unify. <a href="https://UnifyHostName/#/org/&lt;org" class="bare">https://UnifyHostName/#/org/&lt;org</a> id&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify user name
(<code>UnifyUsername</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify username (email). You can get credentials from your Element Unify support engineer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify password
(<code>UnifyPassword</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter your Element Unify password. You can get credentials from your Element Unify support engineer.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Edge-deployment configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name for the edge-gateway device
(<code>EdgeDeviceID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Virtual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your deployment uses a physical edge-gateway device (industrial PC), enter a name. This string can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of deployment
(<code>DeploymentType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Virtual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of edge deployment. If your deployment uses physical edge hardware, choose "Physical."</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataflow option
(<code>DeploymentOption</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Option1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default dataflow ("Option1") is OPC UA to SiteWise. You can also choose "Option2a" (MQTT to Iot Core) or "Option2b" (MQTT to Greengrass to Iot Core). If the Asset Modeling Configuration is set to Element Unify, Option1 will be used.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Amazon EC2 configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH key name
(<code>EC2KeyPairName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SiteWiseTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of an existing EC2 key pair. All instances will launch with this key pair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default VPC ID
(<code>VpcId</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the VPC that the solution will be hosted in.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greengrass EC2 instance type
(<code>GreengrassInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t3.small</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amazon EC2 instance type for the Greengrass EC2 instances. Note that if the Asset modeling configuration is Element Unify, then two instances of Greengrass EC2 will be deployed to demonstrate multi-site modeling capabilities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignition EC2 instance type
(<code>IgnitionInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t3.large</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amazon EC2 instance type for the Ignition EC2 instances. Note that if the Asset modeling configuration is Element Unify, then two instances of Ignition EC2 will be deployed to demonstrate multi-site modeling capabilities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability Zone launch selection
(<code>AZ</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability Zone that the EC2 instances will be launched into.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC subnet ID
(<code>EC2Subnet</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subnet ID where the EC2 instances will be launched. Match the subnet ID with your Availability Zone selection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for Ignition/Greengrass access
(<code>PublicSubnet1CIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0.0.0/0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You will narrow this down after the stack deploys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asset Model Converter driver
(<code>AMCDriver</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IgnitionCirrusLink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The driver that the Asset Model Converter uses to translate hierarchy data. If you&#8217;re not using the default driver, choose IgnitionFileExport or KepwareFileExport. If you&#8217;re not using Asset Model Converter, select Element Unify.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email address for the SiteWise portal administrator
(<code>SitewiseMonitorEmail</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enter the email address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your public IP address
(<code>UserPublicIP</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enter your public IP for Ignition UI, SSH access to EC2 instances. Format - (x.x.x.x)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. AWS Quick Start configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 bucket name
(<code>QSS3BucketName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the S3 bucket for your copy of the Quick Start assets. Keep the default name unless you are customizing the template. Changing the name updates code references to point to a new Quick Start location. This name can include numbers, lowercase letters, uppercase letters, and hyphens, but do not start or end with a hyphen (-). See <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 key prefix
(<code>QSS3KeyPrefix</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quickstart-aws-industrial-machine-connectivity/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix that is used to simulate a directory for your copy of the Quick Start assets. Keep the default prefix unless you are customizing the template. Changing this prefix updates code references to point to a new Quick Start location. This prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slashes (/). See <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html" class="bare">https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html</a> and <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 bucket Region
(<code>QSS3BucketRegion</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>us-east-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. Keep the default Region unless you are customizing the template. Changing this Region updates code references to point to a new Quick Start location. When using your own bucket, specify the Region. See <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_parameters_for_deploying_into_a_new_vpc">Parameters for deploying into a new VPC</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Network configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC CIDR
(<code>VPCCIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.0.0/16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for the VPC.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public subnet 1 CIDR
(<code>PublicSubnet1CIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.128.0/20</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for the public DMZ subnet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC tenancy
(<code>VPCTenancy</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowed tenancy of instances deployed into the VPC.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Asset Modeling configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asset modeling and deployment application
(<code>ModelingVendorType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Asset Model Converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the asset modeling application to create and update source system assets into AWS IoT SiteWise. Element Unify builds a single, federated &amp; contextualized asset data model. For more information, see <a href="https://aws.amazon.com/marketplace/pp/Element-Element-Unify-Software/B08VZY2ZJB" class="bare">https://aws.amazon.com/marketplace/pp/Element-Element-Unify-Software/B08VZY2ZJB</a>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Element Unify configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify host
(<code>UnifyHostname</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://app001-aws.elementanalytics.com/" class="bare">https://app001-aws.elementanalytics.com/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify hostname. If your asset modeling application is Element Unify, enter the Element Unify hostname. Typically <a href="https://app001-aws.elementanalytics.com/" class="bare">https://app001-aws.elementanalytics.com/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify username (email)
(<code>UnifyUsername</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify username (email). You can get credentials from your Element Unify support engineer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify password
(<code>UnifyPassword</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter your Element Unify password. You can get credentials from your Element Unify support engineer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unify organization id
(<code>UnifyOrgId</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your asset modeling application is Element Unify, enter the Element Unify organization Id. The organization id is found in the url after you log in to Element Unify. <a href="https://UnifyHostName/#/org/&lt;org" class="bare">https://UnifyHostName/#/org/&lt;org</a> id&gt;</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Edge-deployment configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name for the edge-gateway device
(<code>EdgeDeviceID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Virtual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your deployment uses a physical edge-gateway device (industrial PC), enter a name. This string can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of deployment
(<code>DeploymentType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Virtual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of edge deployment. If your deployment uses physical edge hardware, choose "Physical."</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataflow option
(<code>DeploymentOption</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Option1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default dataflow ("Option1") is OPC UA to SiteWise. You can also choose "Option2a" (MQTT to Iot Core) or "Option2b" (MQTT to Greengrass to Iot Core).</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Amazon EC2 configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH key-pair name
(<code>EC2KeyPairName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keypairtest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of an existing EC2 key pair. All instances will launch with this key pair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greengrass EC2 instance type
(<code>GreengrassInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t3.small</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amazon EC2 instance type for the Greengrass EC2 instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignition EC2 instance type
(<code>IgnitionInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t3.large</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amazon EC2 instance type for the Ignition EC2 instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asset Model Converter driver
(<code>AMCDriver</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IgnitionCirrusLink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The driver that the Asset Model Converter uses to translate hierarchy data. If you&#8217;re not using the default driver, choose IgnitionFileExport or KepwareFileExport. If you&#8217;re not using Asset Model Converter, select Element Unify.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your public IP address
(<code>UserPublicIP</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enter your public IP for Ignition UI, SSH access to EC2 instances. Format - (x.x.x.x)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email address for the SiteWise portal administrator
(<code>SitewiseMonitorEmail</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enter the email address.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. AWS Quick Start configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 bucket name
(<code>QSS3BucketName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the S3 bucket for your copy of the Quick Start assets. Keep the default name unless you are customizing the template. Changing the name updates code references to point to a new Quick Start location. This name can include numbers, lowercase letters, uppercase letters, and hyphens, but do not start or end with a hyphen (-). See <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 key prefix
(<code>QSS3KeyPrefix</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quickstart-aws-industrial-machine-connectivity/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix that is used to simulate a directory for your copy of the Quick Start assets. Keep the default prefix unless you are customizing the template. Changing this prefix updates code references to point to a new Quick Start location. This prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slashes (/). See <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html" class="bare">https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html</a> and <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quick Start S3 bucket Region
(<code>QSS3BucketRegion</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>us-east-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. Keep the default Region unless you are customizing the template. Changing this Region updates code references to point to a new Quick Start location. When using your own bucket, specify the Region. See <a href="https://aws-quickstart.github.io/option1.html" class="bare">https://aws-quickstart.github.io/option1.html</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_send_us_feedback">Send us feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To post feedback, submit feature ideas, or report bugs, use the <strong>Issues</strong> section of the <a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity" target="_blank" rel="noopener">GitHub repository</a> for this Quick Start. To submit code, see the <a href="https://aws-quickstart.github.io/" target="_blank" rel="noopener">Quick Start Contributor’s Guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start_reference_deployments">Quick Start reference deployments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the <a href="https://aws.amazon.com/quickstart/">AWS Quick Start home page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_github_repository">GitHub repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Visit our <a href="https://github.com/aws-quickstart/quickstart-aws-industrial-machine-connectivity" target="_blank" rel="noopener">GitHub repository</a> to download
the templates and scripts for this Quick Start, to post your comments,
and to share your customizations with others.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_notices">Notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document is provided for informational purposes only. It represents AWS’s current product offerings and practices as of the date of issue of this document, which are subject to change without notice. Customers are responsible for making their own independent assessment of the information in this document and any use of AWS’s products or services, each of which is provided “as is” without warranty of any kind, whether expressed or implied. This document does not create any warranties, representations, contractual commitments, conditions, or assurances from AWS, its affiliates, suppliers, or licensors. The responsibilities and liabilities of AWS to its customers are controlled by AWS agreements, and this document is not part of, nor does it modify, any agreement between AWS and its customers.</p>
</div>
<div class="paragraph">
<p>The software included with this paper is licensed under the Apache License, version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at <a href="http://aws.amazon.com/apache2.0/" target="_blank" rel="noopener">http://aws.amazon.com/apache2.0/</a> or in the accompanying "license" file. This code is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either expressed or implied. See the License for specific language governing permissions and limitations.</p>
</div>
</div>
</div>
</div>
<p class="footer-text">
<!-- We can use document attributes: -->
<!-- Generated with Asciidoctor v2.0.15. -->
<a href="https://aws.amazon.com/privacy/">Privacy</a> | <a href="https://aws.amazon.com/terms/">Site terms</a> | &copy; 2021, Amazon Web Services, Inc. or its affiliates. All rights reserved.
</p>
</body>
</html>
<!--
repo commit:
114092724ab7eb8d51429d286ae076866ee83083

submodule config:
 a9d6c5903745c1091793d3cd1f960948919c2c9f docs/boilerplate (heads/main)
 ffc7af4e59a09dbf52199a3ecf70f3805abeff48 submodules/quickstart-aws-vpc (v1.0-58-gffc7af4)
-->
